<!DOCTYPE html>
<html>
<head>
  <title>Swagger UI</title>
  <link rel="icon" type="image/png" href="images/favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="images/favicon-16x16.png" sizes="16x16" />
  <link href='css/typography.css' media='screen' rel='stylesheet' type='text/css'/>
  <link href='css/reset.css' media='screen' rel='stylesheet' type='text/css'/>
  <link href='css/screen.css' media='screen' rel='stylesheet' type='text/css'/>
  <link href='css/reset.css' media='print' rel='stylesheet' type='text/css'/>
  <link href='css/print.css' media='print' rel='stylesheet' type='text/css'/>

  <link href='../css/docs.css' media='screen' rel='stylesheet' type='text/css'/>

  <script src="https://statuspage-production.s3.amazonaws.com/se-v1.js"></script>
  <script type="text/javascript" src="lib/shred.bundle.js"></script>
  <script src='lib/jquery-1.8.0.min.js' type='text/javascript'></script>
  <script src='lib/jquery.slideto.min.js' type='text/javascript'></script>
  <script src='lib/jquery.wiggle.min.js' type='text/javascript'></script>
  <script src='lib/jquery.ba-bbq.min.js' type='text/javascript'></script>
  <script src='lib/handlebars-2.0.0.js' type='text/javascript'></script>
  <script src='lib/underscore-min.js' type='text/javascript'></script>
  <script src='lib/backbone-min.js' type='text/javascript'></script>
  <script src='lib/swagger-client.js' type='text/javascript'></script>
  <script src='swagger-ui.js' type='text/javascript'></script>
  <script src='lib/highlight.7.3.pack.js' type='text/javascript'></script>
  <script src='lib/marked.js' type='text/javascript'></script>

  <script>

  var sp = new StatusPage({ pageId: '9q40jlzjqm74'});

  sp.getStatus({
    success: function(data) {
      // adds the text description to the dropdown
      $('.color-description').text(data.status.description);
      // appends the status indicator as a class name so we can use the right color for the status light thing
      $('.color-dot').addClass(data.status.indicator);
    }
  });
  </script>

  <!-- enabling this will enable oauth2 implicit scope support -->
  <script src='lib/swagger-oauth.js' type='text/javascript'></script>
  <script type="text/javascript">
    $(function () {
      var url = window.location.search.match(/url=([^&]+)/);
      if (url && url.length > 1) {
        url = decodeURIComponent(url[1]);
      } else {
        url = "http://docs.api.compare99.com/swagger.json";
      }
      window.swaggerUi = new SwaggerUi({
        url: url,
        dom_id: "swagger-ui-container",
        supportedSubmitMethods: ['get', 'post', 'put', 'delete', 'patch'],
        onComplete: function(swaggerApi, swaggerUi){
          if(typeof initOAuth == "function") {
            /*
            initOAuth({
              clientId: "your-client-id",
              realm: "your-realms",
              appName: "your-app-name"
            });
            */
          }
          $('pre code').each(function(i, e) {
            hljs.highlightBlock(e)
          });
        },
        onFailure: function(data) {
          log("Unable to Load SwaggerUI");
        },
        docExpansion: "list",
        apisSorters : 'alpha'
      });

      function addApiKeyAuthorization() {
        var key = encodeURIComponent($('#input_apiKey')[0].value);
        log("key: " + key);
        if(key && key.trim() != "") {
            var apiKeyAuth = new SwaggerClient.ApiKeyAuthorization("api_key", key, "query");
            window.swaggerUi.api.clientAuthorizations.add("api_key", apiKeyAuth);
            log("added key " + key);
        }
      }

      $('#input_apiKey').change(addApiKeyAuthorization);

      // if you have an apiKey you would like to pre-populate on the page for demonstration purposes...
      /*
        var apiKey = "myApiKeyXXXX123456789";
        $('#input_apiKey').val(apiKey);
        addApiKeyAuthorization();
      */

      window.swaggerUi.load();

      function log() {
        if ('console' in window) {
          console.log.apply(console, arguments);
        }
      }
  });
  </script>
</head>

<body class="swagger-section">
  <header>
    <h1><a href="/">Compare</a> <span>API Documentation</span></h1>
    <nav>
      <a href="/status"><span class="color-dot"></span> Status</a>
      <a href="/endpoints">Endpoints</a>
      <a href="/guide">Using the API</a>
      <a href="http://blog.tech.compare99.com">Blog</a>
    </nav>
  </header>

  <div id="message-bar" class="swagger-ui-wrap">&nbsp;</div>

  <div class="compare-sidebar">
    <h4>1. Overview</h4>
    <p>Welcome to the Compare API documentation. This document shows all of the available endpoints with detailed documentation on how to use them. If you think something is missing or could be better explained please let the Compare Team know.</p>

    <p>This documentation syncs with the API to let you test the documentation against the live site. Fill in any required request parameters and then click on the "try it out" button.</p>


    <h4>2. Versioning</h4>
    <p>We will maintain backwards compatibility within a version so you do not need to worry about endpoints being altered or removed. Although we will not remove fields from responses, we will occasionally add fields. Clients should be able handle new fields without breaking.</p>

    <h4>3. Authentication</h4>
    <p>All of our API endpoints are secured with OAuth 2.0. The only grant type we currently support is the <a href="http://tools.ietf.org/html/rfc6749#section-4.4">Client Credentials Grant</a>. We have scopes to limit access to certain parts of the API to certain clients, no external clients have access to delete information for example.</p>

    <p>Each application needs a separate API key, even different sites in the same product. For example the French and German versions of Ideal Price should use separate API keys.</p>

    <h4>Country Codes</h4>
    <p>Wherever a language or country is required, it should always be input using the standardised language or country codes from ISO-3166 and ISO-639. For example, English is "en" and the United Kingdom is “GB”. The full list can be found <a href="http://docs.oracle.com/cd/E13214_01/wli/docs92/xref/xqisocodes.html">here</a>, unknown codes will result in errors.</p>

    <h4>Metadata</h4>
    <p>Most updatable API objects support a user-specified metadataparameter.</p>

    <p>You can use themetadataparameter to attach key-value data. This is useful for storing additional structured information about an object. As an example, you could store seasonal information on a Keyword, or the list of Adword campaign names that are currently running for a Product.</p>

    <p>The metadata you specify is returned in all API responses and is visible to other clients, it should not be used for storing sensitive information.</p>

    <p>You can have up to 100 keys, with key names up to 40 characters long and values up to 1,000 characters long. If you have a case where you would like to store more than that please contact a Compare Developer.</p>

  </div>

  <div id="swagger-ui-container" class="swagger-ui-wrap"></div>
</body>
</html>
